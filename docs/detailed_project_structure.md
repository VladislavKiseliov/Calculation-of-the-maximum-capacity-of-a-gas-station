# 📁 Структура проекта - Полное описание

## 🏗️ Общий обзор структуры

```
Calculation-of-the-maximum-capacity-of-a-gas-station/
├── 📄 main.py                          # 🚀 Главная точка входа в приложение
├── 📄 requirements.txt                 # 📦 Зависимости Python
├── 📄 setup.py                         # ⚙️ Установочный скрипт
├── 📄 .gitignore                       # 🚫 Правила игнорирования Git
├── 📄 README.md                        # 📖 Главная документация
├── 📄 CHANGELOG.md                     # 📝 История изменений
│
├── 📁 src/                             # 💻 Исходный код приложения
│   ├── 📄 __init__.py                  # 📋 Инициализация пакета
│   │
│   ├── 📁 core/                        # 🧠 Основная бизнес-логика
│   │   ├── 📄 __init__.py              # 📋 Инициализация core пакета
│   │   ├── 📄 Calculate_file.py        # 🔬 Вычислительные функции
│   │   ├── 📄 DataModel.py             # 💾 Модель данных и менеджеры
│   │   └── 📄 calculate_Max_performance.py # 📊 Расчет максимальной производительности
│   │
│   ├── 📁 gui/                         # 🖥️ Графический интерфейс
│   │   ├── 📄 __init__.py              # 📋 Инициализация GUI пакета
│   │   ├── 📄 Main.py                  # 🏠 Главное окно и менеджер GUI
│   │   ├── 📄 Tab_calculate.py         # 📋 Компоненты вкладок расчетов
│   │   └── 📄 Work_table.py            # 📊 Таблицы и виджеты
│   │
│   └── 📁 utils/                       # 🛠️ Утилиты и вспомогательные модули
│       ├── 📄 __init__.py              # 📋 Инициализация utils пакета
│       └── 📄 logger_config.py         # 📝 Конфигурация логирования
│
├── 📁 data/                            # 📊 Данные приложения
│   ├── 📁 input/                       # 📥 Входные данные
│   │   ├── 📄 SostavGaza.csv           # 🧪 Состав газовых смесей
│   │   └── 📄 data.json                # ⚙️ Конфигурационные данные
│   ├── 📁 output/                      # 📤 Выходные данные
│   │   └── 📄 output.xlsx              # 📊 Результаты расчетов Excel
│   └── 📁 database/                    # 🗃️ База данных
│       └── 📄 tables.db                # 💾 SQLite база данных
│
├── 📁 tests/                           # 🧪 Тестирование
│   ├── 📄 __init__.py                  # 📋 Инициализация tests пакета
│   ├── 📁 unit/                        # 🔬 Модульные тесты
│   └── 📁 integration/                 # 🔗 Интеграционные тесты
│
├── 📁 docs/                            # 📚 Документация
│   ├── 📄 user_guide.md               # 👤 Руководство пользователя
│   ├── 📄 project_structure.md        # 🏗️ Описание структуры
│   ├── 📄 import_fixes.md             # 🔧 Исправления импортов
│   └── 📁 images/                      # 🖼️ Изображения для документации
│
├── 📁 config/                          # ⚙️ Конфигурация
│   └── 📄 settings.json               # 🎛️ Настройки приложения
│
├── 📁 scripts/                         # 🤖 Скрипты автоматизации
│   └── 📄 build.py                    # 🏗️ Скрипт сборки проекта
│
├── 📁 logs/                            # 📋 Логи (создается автоматически)
│   └── 📄 app_log_*.log               # 📝 Файлы логов с временными метками
│
├── 📁 saves/                           # 💾 Пользовательские сохранения
├── 📁 archive/                         # 📦 Архив старых версий
└── 📁 tests_old/                       # 🗂️ Старые тесты (для миграции)
```

## 🔍 Подробное описание каждого компонента

### 🚀 **Корневые файлы**

| Файл | Назначение | Описание |
|------|------------|----------|
| `main.py` | Точка входа | Инициализирует все компоненты и запускает GUI |
| `requirements.txt` | Зависимости | Список Python пакетов для установки |
| `setup.py` | Установка | Скрипт для установки проекта как пакета |
| `.gitignore` | Git конфигурация | Правила игнорирования файлов в Git |
| `README.md` | Документация | Главная документация проекта |
| `CHANGELOG.md` | История | Журнал изменений версий |

### 💻 **src/ - Исходный код**

#### 🧠 **src/core/ - Основная логика**

| Файл | Класс/Функции | Назначение |
|------|---------------|------------|
| `Calculate_file.py` | `data_frame()`, `calculate_Ky()`, `heat_balance()`, `calc()` | Основные вычислительные функции для газовых расчетов |
| `DataModel.py` | `Data_model`, `DataStorage`, `CSVManager`, `DataBaseManager`, `JsonManager` | Управление данными, база данных, файловые операции |
| `calculate_Max_performance.py` | `Max_performance` | Оркестратор расчетов максимальной производительности |

#### 🖥️ **src/gui/ - Пользовательский интерфейс**

| Файл | Класс | Назначение |
|------|-------|------------|
| `Main.py` | `GuiManager`, `CallbackRegistry`, `Initial_data` | Главное окно, менеджер GUI, система событий |
| `Tab_calculate.py` | `Calculation_gas_properties`, `Calculation_regulator`, `Heat_balance`, `Calculation_pipi` | Компоненты вкладок для различных расчетов |
| `Work_table.py` | `BaseTableManager`, `TableFactory`, `WidgetFactory` | Менеджеры таблиц и фабрики виджетов |

#### 🛠️ **src/utils/ - Утилиты**

| Файл | Функции | Назначение |
|------|---------|------------|
| `logger_config.py` | `setup_logger()`, `create_log_file()` | Настройка системы логирования |

### 📊 **data/ - Данные приложения**

#### 📥 **data/input/ - Входные данные**

| Файл | Содержание | Использование |
|------|-----------|---------------|
| `SostavGaza.csv` | Физико-химические свойства газовых компонентов | Используется в `Calculate_file.data_frame()` |
| `data.json` | Конфигурационные данные и примеры | Загружается при инициализации |

#### 📤 **data/output/ - Выходные данные**

| Файл | Содержание | Создается |
|------|-----------|-----------|
| `output.xlsx` | Результаты расчетов в Excel формате | При экспорте результатов |

#### 🗃️ **data/database/ - База данных**

| Файл | Содержание | Создается |
|------|-----------|-----------|
| `tables.db` | SQLite база с таблицами расчетов | При первом запуске `DataBaseManager` |

### 🧪 **tests/ - Тестирование**

| Папка | Назначение | Тип тестов |
|-------|------------|------------|
| `unit/` | Модульные тесты | Тестирование отдельных функций и классов |
| `integration/` | Интеграционные тесты | Тестирование взаимодействия компонентов |

### 📚 **docs/ - Документация**

| Файл | Содержание | Назначение |
|------|-----------|------------|
| `user_guide.md` | Руководство пользователя | Инструкции по использованию |
| `project_structure.md` | Структура проекта | Техническое описание архитектуры |
| `import_fixes.md` | Исправления импортов | История решения проблем импорта |

### ⚙️ **config/ - Конфигурация**

| Файл | Содержание | Назначение |
|------|-----------|------------|
| `settings.json` | Настройки приложения | Пути, параметры GUI, настройки логирования |

### 🤖 **scripts/ - Автоматизация**

| Файл | Назначение | Функции |
|------|------------|----------|
| `build.py` | Скрипт сборки | Проверка зависимостей, создание исполняемого файла |

## 🔄 Потоки данных и взаимодействие

### 📥 **Входной поток данных:**
```
main.py → GuiManager → Initial_data → DataModel → DataStorage/Database
```

### 🔄 **Поток расчетов:**
```
GUI Input → Max_performance → Calculate_file → Results → DataModel → GUI Display
```

### 📊 **Поток данных файлов:**
```
data/input/ → Calculate_file/DataModel → calculations → data/output/
```

### 📝 **Поток логирования:**
```
All components → logger_config → logs/app_log_*.log
```

## 🎯 **Принципы организации**

### 🏗️ **Архитектурные принципы:**
- **Разделение ответственности**: Core логика отделена от GUI
- **Модульность**: Каждый модуль имеет четкое назначение
- **Расширяемость**: Легко добавлять новые компоненты
- **Тестируемость**: Изолированные модули для unit-тестирования

### 📁 **Принципы именования:**
- **Папки**: Английские названия, описывающие назначение
- **Файлы**: PascalCase для классов, snake_case для функций
- **Модули**: Короткие, описательные имена

### 🔗 **Принципы импорта:**
- **Абсолютные импорты**: `from core.DataModel import Data_model`
- **Избегание циклических зависимостей**: Core → Utils, GUI → Core
- **Четкие интерфейсы**: Через __init__.py файлы

## 📈 **Масштабируемость**

### ➕ **Добавление новых компонентов:**

**Новый расчетный модуль:**
```
src/core/new_calculation.py → обновить core/__init__.py
```

**Новый GUI компонент:**
```
src/gui/new_widget.py → обновить gui/__init__.py
```

**Новый тип данных:**
```
data/input/new_data.csv → обновить DataModel.py
```

### 🧪 **Добавление тестов:**
```
tests/unit/test_new_module.py
tests/integration/test_new_flow.py
```

## 🎉 **Итоговые преимущества структуры**

- ✅ **Чистая архитектура** с разделением слоев
- ✅ **Легкая навигация** по проекту
- ✅ **Простое тестирование** изолированных модулей
- ✅ **Готовность к упаковке** как Python пакет
- ✅ **Профессиональная организация** кода
- ✅ **Масштабируемость** для будущего развития